// Generated by CoffeeScript 1.6.2
(function() {
  define(['jquery', 'underscore', 'backbone', 'Router'], function($, _, Backbone, Router) {
    var initialize, router, runApplication;

    router = new Router;
    initialize = function() {
      return router.checkLogin(runApplication);
    };
    runApplication = function(authenticated) {
      if (!authenticated) {
        localStorage.setItem('isAuth', false);
        window.location.replace('#/login');
      } else {
        localStorage.setItem('isAuth', true);
      }
      window.app = {
        router: router
      };
      return Backbone.history.start();
    };
    return {
      initialize: initialize
    };
  });

}).call(this);
